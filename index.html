<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Uma Mensagem Romântica para Ti</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins&display=swap');

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(ellipse at bottom, #4d0019 0%, #000000 100%);
      color: #fff0f5;
      overflow: hidden;
      position: relative;
    }

    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      background: transparent;
      z-index: 1;
      overflow: hidden;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: #ffffff;
      border-radius: 50%;
      animation: twinkle 2s infinite;
      opacity: 0.8;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 0.2; }
    }

    .container {
      position: relative;
      z-index: 2;
      max-width: 800px;
      margin: 60px auto;
      padding: 60px 30px;
      background: rgba(255, 0, 76, 0.1);
      border-radius: 20px;
      box-shadow: 0 0 40px rgba(255, 153, 204, 0.3);
      backdrop-filter: blur(6px);
      text-align: center;
      display: none;
      color: #ffe6eb;
    }

    h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 3.5em;
      color: #ffccda;
      margin-bottom: 30px;
      text-shadow: 0 0 8px #ff4f7d;
    }

    p {
      font-size: 1.3em;
      line-height: 1.7;
      text-shadow: 0 0 4px #a60a3d;
      margin-bottom: 25px;
      white-space: pre-wrap; /* Para respeitar quebras de linha no texto */
    }

    .signature {
      font-family: 'Great Vibes', cursive;
      font-size: 2.3em;
      color: #ffc0cb;
      margin-top: 40px;
      text-shadow: 0 0 6px #ff5e7d;
    }

    #startScreen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at bottom, #4d0019 0%, #000000 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 3;
    }

    #startScreen h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 3.5em;
      color: #ffccda;
      margin-bottom: 30px;
      text-shadow: 0 0 8px #ff4f7d;
    }

    #startButton {
      background-color: #ff5f84;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 1.2em;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 0 10px #ffb6c1;
    }

    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background: red;
      transform: rotate(45deg);
      animation: float 5s linear infinite;
      z-index: 4;
    }

    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background: red;
      border-radius: 50%;
    }

    .heart::before {
      top: -10px;
      left: 0;
    }

    .heart::after {
      left: -10px;
      top: 0;
    }

    @keyframes float {
      0% {
        transform: translateY(0) rotate(45deg);
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) rotate(45deg);
        opacity: 0;
      }
    }

    /* Novas classes para as flores */
    .flower {
      position: absolute;
      width: 25px;
      height: 25px;
      background: radial-gradient(circle at center, #ff69b4 30%, #ff1493 70%);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      box-shadow: 0 0 8px #ff69b4;
      animation: floatFlower 7s linear infinite;
      z-index: 4;
      opacity: 0.8;
    }
    .flower::before,
    .flower::after {
      content: "";
      position: absolute;
      width: 25px;
      height: 25px;
      background: radial-gradient(circle at center, #ff69b4 30%, #ff1493 70%);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      box-shadow: 0 0 8px #ff69b4;
    }
    .flower::before {
      top: -12px;
      left: 8px;
    }
    .flower::after {
      top: 8px;
      left: -12px;
    }

    @keyframes floatFlower {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(-110vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Container da imagem final do coração */
    #finalImage {
      display: none;
      position: relative;
      z-index: 5;
      width: 100vw;
      height: 100vh;
      background: radial-gradient(circle, #ff005c 0%, #4d0019 70%);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: white;
      font-family: 'Great Vibes', cursive;
      font-size: 5em;
      text-shadow: 0 0 20px #ff8fb1;
    }

    /* Coração grande SVG para o final */
    #finalImage svg {
      width: 200px;
      height: 200px;
      fill: #ff005c;
      filter: drop-shadow(0 0 8px #ff69b4);
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 8px #ff69b4);
      }
      50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 16px #ff69b4);
      }
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>

  <div id="startScreen">
    <h1>Uma Mensagem Romântica para Ti</h1>
    <button id="startButton">Começar</button>
  </div>

  <div class="container" id="messageContainer">
    <p id="messageText"></p>
    <p class="signature">Com todo o meu amor,<br>Raul</p>
  </div>

  <!-- Container para a imagem final do coração -->
  <div id="finalImage">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42
      3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5
      3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55
      11.54L12 21.35z"></path>
    </svg>
    <div>EU TE AMO</div>
  </div>

  <audio id="romanticAudio" loop>
    <source src="Sentimental.mp3" type="audio/mpeg" />
    Seu navegador não suporta o elemento de áudio.
  </audio>

  <script>
    // Criar estrelas aleatórias
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 100; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      star.style.top = Math.random() * 100 + '%';
      star.style.left = Math.random() * 100 + '%';
      star.style.animationDuration = (Math.random() * 3 + 2) + 's';
      starsContainer.appendChild(star);
    }

    // Texto da mensagem
    const message = `No silêncio da noite, quando as estrelas sussurram segredos ao luar, o meu coração encontra-se em sintonia com a melodia do teu amor. É uma melodia que acalma a minha alma, uma luz que ilumina o meu caminho e a razão pela qual o meu coração bate mais forte a cada dia.

Tal como uma rosa desabrocha na primavera, o nosso amor floresce com o tempo, nutrido pela paciência, pela compreensão e pela devoção. Cada pétala representa uma memória preciosa, um momento adquirido no tempo em que nossos corações dançavam em uníssono.

Que esta mensagem sirva de testemunho do meu afeto eterno por ti. Que te lembre do calor dos nossos abraços, da doçura dos nossos beijos e da alegria das nossas gargalhadas partilhadas. É uma obra-prima que a vida pintou na tela do meu coração, e serei eternamente grato pela tua presença na minha vida.`;

    const startButton = document.getElementById('startButton');
    const startScreen = document.getElementById('startScreen');
    const messageContainer = document.getElementById('messageContainer');
    const messageText = document.getElementById('messageText');
    const audio = document.getElementById('romanticAudio');
    const finalImage = document.getElementById('finalImage');

    let heartsInterval, flowersInterval;

    startButton.addEventListener('click', () => {
      audio.play().then(() => {
        startScreen.style.display = 'none';
        messageContainer.style.display = 'block';
        typeMessage(message, messageText).then(() => {
          // Ao terminar de digitar o texto, remover container e mostrar a imagem final
          messageContainer.style.display = 'none';
          stopAnimations();
          showFinalImage();
        });
        startAnimations();
      }).catch(err => {
        alert('Erro ao iniciar a música: ' + err.message);
      });
    });

    // Função tipo "async" que resolve quando termina de digitar
    function typeMessage(text, element) {
      return new Promise((resolve) => {
        let index = 0;
        function type() {
          if (index < text.length) {
            element.innerHTML += text.charAt(index);
            index++;
            setTimeout(type, 50);
          } else {
            resolve();
          }
        }
        element.innerHTML = ''; // limpa antes de começar
        type();
      });
    }

    // Função para criar corações e flores continuamente
    function startAnimations() {
      heartsInterval = setInterval(() => {
        createHeart();
      }, 500);

      flowersInterval = setInterval(() => {
        createFlower();
      }, 1000);
    }

    function stopAnimations() {
      clearInterval(heartsInterval);
      clearInterval(flowersInterval);
      // Remove todos os corações e flores da página
      document.querySelectorAll('.heart, .flower').forEach(el => el.remove());
    }

    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.remove();
      }, 5000);
    }

    function createFlower() {
      const flower = document.createElement('div');
      flower.classList.add('flower');
      flower.style.left = Math.random() * 100 + 'vw';
      flower.style.animationDuration = (Math.random() * 4 + 3) + 's';
      document.body.appendChild(flower);
      setTimeout(() => {
        flower.remove();
      }, 7000);
    }

    function showFinalImage() {
      finalImage.style.display = 'flex';
    }
  </script>
</body>
</html>
